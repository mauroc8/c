<meta charset="UTF-8">
<title>Acordes reales con inversiones</title>
<button id="dictar" disabled>Dictar acorde</button>
<button id="ver" disabled>Ver respuesta</button>
<button id="nuevo" disabled>Nuevo acorde</button>
<p id="respuesta">Cargando...</p>
<script src="recursos.js"></script>
<script>

PianoScript.onload = function() {
	$('#nuevo').disabled = false;
	$('#respuesta').textContent = '';
}

var acorde, modo;
var opciones = ['mayor fundamental', 'menor fundamental', 'mayor 1째i', 'menor 1째i', 'mayor 2째i', 'menor 2째i'];

$('#nuevo').onclick = function() {
	modo = opciones[ Math.floor(Math.random()*opciones.length) ];
	var rand = Math.floor(Math.random()*12);
	acorde = recursos.acordes[modo].map(function(nota) {
		return nota + rand;
	});
	
	$('#dictar').disabled = false;
	$('#ver').disabled = false;
	$('#respuesta').textContent = '';
	$('#dictar').click();
}

$('#dictar').onclick = function() {
	PianoScript.reproducir(acorde);
}

$('#ver').onclick = function() {
	$('#respuesta').textContent = recursos.notas[ acorde[0]%12 ] + ' ' + modo;
}

</script>